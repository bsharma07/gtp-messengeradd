(()=>{var e={};e.id=786,e.ids=[786],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},44702:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=s(50482),a=s(69108),n=s(62563),i=s.n(n),o=s(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["chat",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,30453)),"/workspaces/gtp-messengeradd/app/chat/[id]/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,52218)),"/workspaces/gtp-messengeradd/app/layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,87984)),"/workspaces/gtp-messengeradd/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/workspaces/gtp-messengeradd/app/chat/[id]/page.tsx"],u="/chat/[id]/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/chat/[id]/page",pathname:"/chat/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},49885:(e,t,s)=>{Promise.resolve().then(s.bind(s,31092)),Promise.resolve().then(s.bind(s,30340))},37122:(e,t,s)=>{Promise.resolve().then(s.bind(s,26592)),Promise.resolve().then(s.bind(s,2724)),Promise.resolve().then(s.bind(s,30917)),Promise.resolve().then(s.bind(s,71585))},80153:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,26840,23)),Promise.resolve().then(s.t.bind(s,38771,23)),Promise.resolve().then(s.t.bind(s,13225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,43982,23))},35303:()=>{},31092:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(95344),a=s(3729);let n=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9 12.75 3 3m0 0 3-3m-3 3v-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});var i=s(61794),o=s(47674),l=s(58360),d=s(73437);let c=function({message:e}){let t="ChatGPT"===e.user.name;return r.jsx("div",{className:`py-5 text-white ${t&&"bg-[#434654]"}`,children:(0,r.jsxs)("div",{className:"flex space-x-5 px-10 max-w-2xl mx-auto ",children:[r.jsx("img",{src:e.user.avatar,alt:"",className:"h-8 w-8 rounded-full"}),r.jsx("p",{className:"pt-1 text-sm",children:e.text})]})})},u=function({chatId:e}){let{data:t}=(0,o.useSession)(),s=(0,a.useRef)(null),[u]=(0,l.Kx)(t&&(0,i.IO)((0,i.hJ)(d.db,"users",t?.user?.email,"chats",e,"messages"),(0,i.Xo)("createdAt","asc"))),m=()=>{s.current?.scrollIntoView({behavior:"smooth"})};return(0,a.useEffect)(()=>{m()},[u?.docs.length]),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto overflow-x-hidden",children:[u?.empty&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("p",{className:"=mt-10 text-center text-white",children:"Type a message below to get started!"}),r.jsx(n,{className:"h-10 w-10 mx-auto mt-5 text-white animate-bounce"})]}),u?.docs.map(e=>r.jsx(c,{message:e.data()},e.id)),r.jsx("div",{ref:s})]})}},30340:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var r=s(95344),a=s(3729);let n=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{d:"M3.478 2.404a.75.75 0 0 0-.926.941l2.432 7.905H13.5a.75.75 0 0 1 0 1.5H4.984l-2.432 7.905a.75.75 0 0 0 .926.94 60.519 60.519 0 0 0 18.445-8.986.75.75 0 0 0 0-1.218A60.517 60.517 0 0 0 3.478 2.404Z"}))});var i=s(61794),o=s(47674),l=s(44669),d=s(73437),c=s(64137),u=s(14066);let m=function({chatId:e}){let[t,s]=(0,a.useState)(""),{data:m}=(0,o.useSession)(),{data:x}=(0,u.ZP)("model",{fallbackData:"text-davinci-003"}),p=async r=>{if(r.preventDefault(),!t)return;let a=t.trim();s("");let n={text:a,createdAt:(0,i.Bt)(),user:{_id:m?.user?.email,name:m?.user?.name,avatar:m?.user?.image||`https://ui-avatars.com/api/?name=${m?.user?.name}`}};await (0,i.ET)((0,i.hJ)(d.db,"users",m?.user?.email,"chats",e,"messages"),n);let o=l.Am.loading("ChatGPT is thinking...");await fetch("/api/askQuestion",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:a,chatId:e,model:x,session:m})}).then(()=>{l.Am.success("ChatGPT has responded!",{id:o})})};return(0,r.jsxs)("div",{className:"bg-slate-800 text-gray-400    rounded-md text-sm focus:outline-none",children:[(0,r.jsxs)("form",{onSubmit:p,className:"p-5 space-x-5 flex",children:[r.jsx("input",{className:"bg-transparent focus:outline-none flex-1 disabled:cursor-not-allowed disabled:text-gray-300",disabled:!m,value:t,onChange:e=>s(e.target.value),type:"text",placeholder:"Type your message here..."}),r.jsx("button",{disabled:!t||!m,type:"submit",className:"bg-[#11A37F] hover:opacity-50 text-white font-bold px-4 py-2 rounded disabled:bg-gray-300 disabled:cursor-not-allowed",children:r.jsx(n,{className:"h-4 w-4 -rotate-45 mf-1"})})]}),r.jsx("div",{className:"md:hidden",children:r.jsx(c.Z,{})})]})}},26592:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(95344),a=s(44669);function n(){return r.jsx(r.Fragment,{children:r.jsx(a.x7,{position:"top-right"})})}},2724:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(95344),a=s(47674),n=s(89410);let i=function(){return(0,r.jsxs)("div",{className:"bg-[#11A37F] h-screen flex flex-col items-center justify-center text-center",children:[r.jsx(n.default,{src:"https://links.papareact.com/2i6",width:300,height:300,alt:"logo"}),r.jsx("button",{onClick:()=>(0,a.signIn)("google"),className:"text-white font-bold text-3xl animate-pulse",children:"Sign In to use ChatGPT"})]})}},64137:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var r=s(95344),a=s(14066),n=s(58210);let i=()=>fetch("/api/getEngines").then(e=>e.json()),o=function(){let{data:e,isLoading:t}=(0,a.ZP)("models",i),{data:s,mutate:o}=(0,a.ZP)("model",{fallbackData:"text-davinci-003"});return r.jsx("div",{className:"mt-2",children:r.jsx(n.ZP,{className:"mt-2",options:e?.modelOptions,defaultValue:s,placeholder:s,isSearchable:!0,isLoading:t,menuPosition:"fixed",classNames:{control:e=>"bg-slate-800  border-[#434654]"},onChange:e=>o(e.value)})})}},83518:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(95344),a=s(12522),n=s(61794),i=s(47674),o=s(8428),l=s(73437);let d=function(){let e=(0,o.useRouter)(),{data:t}=(0,i.useSession)(),s=async()=>{let s=await (0,n.ET)((0,n.hJ)(l.db,"users",t?.user?.email,"chats"),{userId:t?.user?.email,createdAt:(0,n.Bt)()});e.push(`/chat/${s.id}`)};return(0,r.jsxs)("div",{onClick:s,className:"border-gray-700 border chatRow",children:[r.jsx(a.Z,{className:"h-4 w-4"}),r.jsx("p",{children:"NewChat"})]})}},30917:(e,t,s)=>{"use strict";s.r(t),s.d(t,{SessionProvider:()=>n});var r=s(95344),a=s(47674);function n({children:e,session:t}){return r.jsx(a.SessionProvider,{children:e})}},71585:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var r=s(95344),a=s(61794),n=s(47674),i=s(58360),o=s(73437),l=s(91242),d=s(3594),c=s(56506),u=s(8428),m=s(3729);let x=function({id:e}){let t=(0,u.usePathname)(),s=(0,u.useRouter)(),{data:x}=(0,n.useSession)(),[p,h]=(0,m.useState)(!1),[g]=(0,i.Kx)((0,a.hJ)(o.db,"users",x?.user?.email,"chats",e,"messages"));(0,m.useEffect)(()=>{t&&h(t.includes(e))},[t]);let f=async()=>{await (0,a.oe)((0,a.JU)(o.db,"users",x?.user?.email,"chats",e)),s.replace("/")};return(0,r.jsxs)(c.default,{href:`/chat/${e}`,className:`chatRow justify-center ${p&&"bg-gray-700/50"}`,children:[r.jsx(l.Z,{className:"h-5 w-5"}),r.jsx("p",{className:"flex-1 hidden md:inline-flex truncate",children:g?.docs[g?.docs.length-1]?.data().text||"New Chat"}),r.jsx(d.Z,{onClick:f,className:"h-5 w-5 text-gray-700 hover:text-red-700"})]})};var p=s(64137),h=s(83518),g=s(97011);let f=function(){let{data:e}=(0,n.useSession)(),[t,s,l]=(0,i.Kx)(e&&(0,a.IO)((0,a.hJ)(o.db,"users",e.user?.email,"chats"),(0,a.Xo)("createdAt","asc")));return(0,r.jsxs)("div",{className:"hidden md:flex flex-col h-screen p-2",children:[r.jsx("div",{className:"flex-1",children:(0,r.jsxs)("div",{children:[r.jsx(h.default,{}),r.jsx("div",{className:"hidden sm:inline",children:r.jsx(p.Z,{})}),(0,r.jsxs)("div",{className:"flex flex-col space-y-2 my-2",children:[s&&r.jsx("div",{className:"animate-pulse text-center text-white",children:r.jsx("p",{children:"Loading Chats..."})}),t?.docs.map(e=>r.jsx(x,{id:e.id},e.id))]})]})}),e&&(0,r.jsxs)("div",{className:"flex justify-between items-center cursor-pointer text-gray-300 transition-all duration-200 ease-out rounded-lg px-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{onClick:()=>(0,n.signOut)(),src:e.user?.image,alt:"Profile picture",className:"h-10 2xl:h-12 w-10 2xl:w-12 rounded-full cursor-pointer mx-auto mb-2 hover:opacity-50"}),r.jsx("p",{className:"truncate",children:e.user?.name})]}),r.jsx(g.Z,{className:"h-7 w-7"})]})]})}},73437:(e,t,s)=>{"use strict";s.d(t,{db:()=>i});var r=s(76041),a=s(61794);let n=(0,r.C6)().length?(0,r.Mq)():(0,r.ZF)({apiKey:"AIzaSyAq95sHH8SOfCrpE7Lo2kmq995-HPmAuxQ",authDomain:"chartgpt-messenger-ed3bb.firebaseapp.com",projectId:"chartgpt-messenger-ed3bb",storageBucket:"chartgpt-messenger-ed3bb.appspot.com",messagingSenderId:"950601888774",appId:"1:950601888774:web:677918d13804beaa013f87"}),i=(0,a.ad)(n)},30453:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(25036),a=s(86843);let n=(0,a.createProxy)(String.raw`/workspaces/gtp-messengeradd/components/Chat.tsx`),{__esModule:i,$$typeof:o}=n,l=n.default,d=(0,a.createProxy)(String.raw`/workspaces/gtp-messengeradd/components/ChatInput.tsx`),{__esModule:c,$$typeof:u}=d,m=d.default,x=function({params:{id:e}}){return(0,r.jsxs)("div",{className:"flex flex-col h-screen overflow-hidden",children:[r.jsx(l,{chatId:e}),r.jsx(m,{chatId:e})]})}},52218:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var r=s(25036),a=s(86843);let n=(0,a.createProxy)(String.raw`/workspaces/gtp-messengeradd/components/SessionProvider.tsx`),{__esModule:i,$$typeof:o}=n;n.default;let l=(0,a.createProxy)(String.raw`/workspaces/gtp-messengeradd/components/SessionProvider.tsx#SessionProvider`),d=(0,a.createProxy)(String.raw`/workspaces/gtp-messengeradd/components/SideBar.tsx`),{__esModule:c,$$typeof:u}=d,m=d.default;var x=s(81355),p=s.n(x);s(7633);let h={providers:[(0,s(10375).Z)({clientId:process.env.GOOGLE_ID,clientSecret:process.env.GOOGLE_SECRET})]};p()(h);let g=(0,a.createProxy)(String.raw`/workspaces/gtp-messengeradd/components/Login.tsx`),{__esModule:f,$$typeof:v}=g,b=g.default,j=(0,a.createProxy)(String.raw`/workspaces/gtp-messengeradd/components/ClientProvider.tsx`),{__esModule:w,$$typeof:y}=j,P=j.default;async function N({children:e}){let t=await (0,x.getServerSession)(h);return console.log(t),(0,r.jsxs)("html",{lang:"en",children:[r.jsx("head",{}),r.jsx("body",{children:r.jsx(l,{session:t,children:t?r.jsx(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex md:flex",children:[r.jsx("div",{className:"bg-slate-800 max-w-xs h-screen md:overflow-y-auto md:min-w-[20rem] lg:max-w-[25rem]",children:r.jsx(m,{})}),r.jsx(P,{}),r.jsx("div",{className:"bg-slate-700 flex-1",children:e})]})}):r.jsx(b,{})})})]})}},87984:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(25036),a=s(23603);let n=function(){return(0,r.jsxs)("div",{className:"bg-gradient-to-br from-[#394F68] to-[#183B7E] min-h-screen flex flex-col items-center justify-center text-slate-500",children:[r.jsx(a.SunIcon,{className:"h-24 w-24 animate-bounce text-yellow-500",color:"yellow"}),r.jsx("h1",{className:"text-6xl font-bold text-center mb-10 animate-pulse",children:"Loading City Weather Information"}),r.jsx("h2",{className:"text-xl font-bold text-center mb-10 animate-pulse",children:"Hold on, we are crunching the numbers & generating an AI summary of the Weather!"})]})}},57481:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(70337);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},7633:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,137,337],()=>s(44702));module.exports=r})();